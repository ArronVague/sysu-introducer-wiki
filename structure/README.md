# 项目架构

本系统本质上是将各种技术的有机结合，并且在具体实现上，
也通过分层、模块化等思想，保证系统中整体的可维护性和可拓展性。
此外，我们也提供 cli 和 webui 等方式对数字人进行控制。

## Core

`Core` 是消息的处理核心，
其中 `Handler` 会从 `Dynamic Message Queue`中获取消息，
并通过 `LLM` 和 `TTS` 模块生成对应回答和语音。
`Dynamic Message Queue` 会存储 `Booter` 传递过来的消息，
然后根据重要性指标来对各个消息进行优先级排序，
这样就更加充分地利用到了数字人回答问题的机会。

消息队列的设计，能让 `Handler` 异步处理消息，
将生产和处理两个步骤进行分离，从而降低了系统的耦合度。

## Booter

`Booter` 属于组织模块，
它作为一条纽带串联了处理核心，和与外部交互的模块。
此外，它也决定了整个系统的生命周期。
当管理员通过 `Controller` 向其发送了起停指令，
这时 `Booter` 则需要控制整个系统的开启与结束。

![basic_structure](./img/basic_structure.svg)
